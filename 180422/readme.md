以下のサイトで紹介されているソースとかをいじったり、データセットを使っているのでそこらへんは読んでください。
https://qiita.com/tshimba/items/60f7bcc8ae26b5004a3a

fine-tuning.pyはだいぶいじっています。normal_cnn.pyは比較用の普通のCNNです。